// Upgrade Definition Parser - Parses upgrade INI files for C&C Generals
// Handles Upgrade blocks from Data/INI/Upgrade.ini


// Upgrade types matching Thyme
enum UpgradeType {
    Player,      // Player-wide upgrades
    Object,      // Object-specific upgrades
}

// Upgrade status
enum UpgradeStatus {
    Invalid,
    Disabled,
    Available,
    InProgress,
    Complete,
}

// Single upgrade definition
struct UpgradeDefinition {
    name: string,
    display_name: string,
    upgrade_type: UpgradeType,
    build_cost: i32,
    build_time: i32,
    research_sound: string,
    button_image: string,
    cursor_name: string,
    description: string,
    prerequisite_upgrade: string,
    prerequisite_science: string,
    build_on_hold: bool,
    granted_by: Vec<string>,
    researchable: bool,
    persist_across_missions: bool,
    triggered_by: Vec<string>,
    conflicting_upgrades: Vec<string>,
    is_valid: bool,
}

struct UpgradeDefinitionParser {
    upgrades: Vec<UpgradeDefinition>,
    upgrade_name_to_index: HashMap<String, Int>,
    current_upgrade: i32,
    in_upgrade_block: bool,
    parse_errors: Vec<string>,
}
